(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{4745:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/profile",function(){return r(3227)}])},4402:function(e,t,r){"use strict";r.d(t,{l:function(){return o}});var a=r(5893);r(7294);var l=r(1664),s=r.n(l),i=r(1163),n=r(9964),o=e=>{let{children:t}=e,r=(0,i.useRouter)(),l=async()=>{await (0,n.kS)(),r.push("/admin/login")};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-64 bg-black/40 backdrop-blur-sm border-r border-white/10 min-h-screen",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-8",children:"Admin Panel"}),(0,a.jsx)("nav",{className:"space-y-2",children:[{name:"Dashboard",href:"/admin",icon:"\uD83D\uDCCA"},{name:"Projects",href:"/admin/projects",icon:"\uD83D\uDCC1"},{name:"Testimonials",href:"/admin/testimonials",icon:"⭐"},{name:"Profile",href:"/admin/profile",icon:"\uD83D\uDC64"},{name:"Messages",href:"/admin/messages",icon:"\uD83D\uDCAC"},{name:"Settings",href:"/admin/settings",icon:"⚙️"}].map(e=>(0,a.jsxs)(s(),{href:e.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(r.pathname===e.href?"bg-blue-500/20 text-blue-300":"text-gray-300 hover:bg-white/10 hover:text-white"),children:[(0,a.jsx)("span",{className:"text-xl",children:e.icon}),(0,a.jsx)("span",{children:e.name})]},e.name))}),(0,a.jsxs)("div",{className:"mt-8 pt-8 border-t border-white/10",children:[(0,a.jsxs)("a",{href:"/",target:"_blank",className:"flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-lg transition-colors",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83C\uDF10"}),(0,a.jsx)("span",{children:"View Site"})]}),(0,a.jsxs)("button",{onClick:l,className:"flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-red-500/20 hover:text-red-300 rounded-lg transition-colors w-full text-left",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83D\uDEAA"}),(0,a.jsx)("span",{children:"Logout"})]})]})]})}),(0,a.jsx)("div",{className:"flex-1 p-8",children:t})]})})}},9964:function(e,t,r){"use strict";r.d(t,{$8:function(){return i},kS:function(){return n},oM:function(){return o},v9:function(){return s}});var a=r(4805);let l="@Phenomenal1Sensational2",s=async e=>{if(e!==l)return!1;try{let{data:e,error:t}=await a.OQ.auth.signInWithPassword({email:"admin@ephraimumunnakwe.com",password:l});if(t)throw t;return!!e.user}catch(e){return console.error("Authentication error:",e),!1}},i=async()=>{try{let{data:{user:e},error:t}=await a.OQ.auth.getUser();if(console.log("Auth check:",{user:!!e,error:t}),t)return console.error("Auth error:",t),!1;return!!e}catch(e){return console.error("Auth check failed:",e),!1}},n=async()=>{try{await a.OQ.auth.signOut()}catch(e){console.error("Logout error:",e)}},o=()=>{try{let e=localStorage.getItem("sb-cecsvrwibdvncrxbbctr-auth-token");return null!==e}catch(e){return!1}}},3227:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var a=r(5893),l=r(7294),s=r(1163),i=r(9964),n=r(4402),o=r(4805);function c(){let[e,t]=(0,l.useState)({name:"",title:"",email:"",phone:"",location:"",bio:""}),[r,c]=(0,l.useState)([{platform:"GitHub",url:"",is_visible:!0},{platform:"LinkedIn",url:"",is_visible:!0},{platform:"Twitter",url:"",is_visible:!0}]),[d,h]=(0,l.useState)(!0),[u,m]=(0,l.useState)(!1),[x,b]=(0,l.useState)(!1),p=(0,s.useRouter)();(0,l.useEffect)(()=>{b(!0)},[]),(0,l.useEffect)(()=>{if(x){if(!(0,i.$8)()){p.push("/admin/login");return}g()}},[p,x]);let g=async()=>{h(!0);try{let[e,r]=await Promise.all([o.Ue.getPersonalInfo(),o.Ue.getSocialLinks()]);e&&t(e),r&&Array.isArray(r)&&c(r)}catch(e){console.error("Error loading profile data:",e)}h(!1)},f=async()=>{m(!0);try{console.log("Saving profile:",{personalInfo:e,socialLinks:r}),await o.Ue.saveProfile({personalInfo:e,socialLinks:r}),alert("Profile updated successfully!")}catch(a){console.error("Error saving profile:",a),console.error("Personal info:",e),console.error("Social links:",r);let t=a instanceof Error?a.message:"Unknown error occurred";alert("Failed to save profile: ".concat(t))}m(!1)};return x&&(0,i.$8)()?(0,a.jsxs)(n.l,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Profile Settings"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Update your personal information and social links"})]}),d?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"⏳"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Loading profile..."})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white/5 p-6 rounded-lg border border-white/10",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Personal Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Full Name"}),(0,a.jsx)("input",{type:"text",value:e.name,onChange:r=>t({...e,name:r.target.value}),className:"w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Professional Title"}),(0,a.jsx)("input",{type:"text",value:e.title,onChange:r=>t({...e,title:r.target.value}),className:"w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:e.email,onChange:r=>t({...e,email:r.target.value}),className:"w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:e.phone,onChange:r=>t({...e,phone:r.target.value}),className:"w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Location"}),(0,a.jsx)("input",{type:"text",value:e.location,onChange:r=>t({...e,location:r.target.value}),className:"w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Bio"}),(0,a.jsx)("textarea",{rows:4,value:e.bio,onChange:r=>t({...e,bio:r.target.value}),className:"w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-white font-medium mb-2",children:"Profile Image URL"}),(0,a.jsx)("input",{type:"url",value:e.profile_image_url||"",onChange:r=>t({...e,profile_image_url:r.target.value}),className:"w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3",placeholder:"https://example.com/profile.jpg"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white/5 p-6 rounded-lg border border-white/10",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Social Links"}),(0,a.jsx)("div",{className:"space-y-4",children:r.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-20",children:(0,a.jsx)("span",{className:"text-white font-medium",children:e.platform})}),(0,a.jsx)("input",{type:"url",value:e.url,onChange:e=>{let a=[...r];a[t].url=e.target.value,c(a)},className:"flex-1 bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3",placeholder:"Your ".concat(e.platform," URL")}),(0,a.jsx)("button",{onClick:()=>{let e=[...r];e[t].is_visible=!e[t].is_visible,c(e)},className:"px-3 py-2 rounded ".concat(e.is_visible?"bg-green-500/20 text-green-300":"bg-gray-500/20 text-gray-400"),children:e.is_visible?"\uD83D\uDC41️":"\uD83D\uDE48"})]},t))})]})]}),(0,a.jsx)("div",{className:"mt-8 flex justify-end",children:(0,a.jsx)("button",{onClick:f,disabled:u,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all font-semibold disabled:opacity-50",children:u?"Saving...":"Save Changes"})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white",children:"Loading..."})})}}},function(e){e.O(0,[10,664,805,774,888,179],function(){return e(e.s=4745)}),_N_E=e.O()}]);