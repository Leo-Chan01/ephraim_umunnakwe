(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{8051:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings",function(){return s(8957)}])},4402:function(e,t,s){"use strict";s.d(t,{l:function(){return c}});var r=s(5893);s(7294);var a=s(1664),n=s.n(a),i=s(1163),l=s(9964),c=e=>{let{children:t}=e,s=(0,i.useRouter)(),a=async()=>{await (0,l.kS)(),s.push("/admin/login")};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"w-64 bg-black/40 backdrop-blur-sm border-r border-white/10 min-h-screen",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-8",children:"Admin Panel"}),(0,r.jsx)("nav",{className:"space-y-2",children:[{name:"Dashboard",href:"/admin",icon:"\uD83D\uDCCA"},{name:"Projects",href:"/admin/projects",icon:"\uD83D\uDCC1"},{name:"Testimonials",href:"/admin/testimonials",icon:"⭐"},{name:"Profile",href:"/admin/profile",icon:"\uD83D\uDC64"},{name:"Messages",href:"/admin/messages",icon:"\uD83D\uDCAC"},{name:"Settings",href:"/admin/settings",icon:"⚙️"}].map(e=>(0,r.jsxs)(n(),{href:e.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(s.pathname===e.href?"bg-blue-500/20 text-blue-300":"text-gray-300 hover:bg-white/10 hover:text-white"),children:[(0,r.jsx)("span",{className:"text-xl",children:e.icon}),(0,r.jsx)("span",{children:e.name})]},e.name))}),(0,r.jsxs)("div",{className:"mt-8 pt-8 border-t border-white/10",children:[(0,r.jsxs)("a",{href:"/",target:"_blank",className:"flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-lg transition-colors",children:[(0,r.jsx)("span",{className:"text-xl",children:"\uD83C\uDF10"}),(0,r.jsx)("span",{children:"View Site"})]}),(0,r.jsxs)("button",{onClick:a,className:"flex items-center space-x-3 px-4 py-3 text-gray-300 hover:bg-red-500/20 hover:text-red-300 rounded-lg transition-colors w-full text-left",children:[(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDEAA"}),(0,r.jsx)("span",{children:"Logout"})]})]})]})}),(0,r.jsx)("div",{className:"flex-1 p-8",children:t})]})})}},9964:function(e,t,s){"use strict";s.d(t,{$8:function(){return i},kS:function(){return l},oM:function(){return c},v9:function(){return n}});var r=s(4805);let a="@Phenomenal1Sensational2",n=async e=>{if(e!==a)return!1;try{let{data:e,error:t}=await r.OQ.auth.signInWithPassword({email:"admin@ephraimumunnakwe.com",password:a});if(t)throw t;return!!e.user}catch(e){return console.error("Authentication error:",e),!1}},i=async()=>{try{let{data:{user:e},error:t}=await r.OQ.auth.getUser();if(console.log("Auth check:",{user:!!e,error:t}),t)return console.error("Auth error:",t),!1;return!!e}catch(e){return console.error("Auth check failed:",e),!1}},l=async()=>{try{await r.OQ.auth.signOut()}catch(e){console.error("Logout error:",e)}},c=()=>{try{let e=localStorage.getItem("sb-cecsvrwibdvncrxbbctr-auth-token");return null!==e}catch(e){return!1}}},8957:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var r=s(5893),a=s(7294),n=s(1163),i=s(9964),l=s(4402),c=s(4805);let o={async getSettings(){try{let{data:e,error:t}=await c.OQ.from("site_settings").select("*").limit(1).single();if(t)throw t;return e}catch(e){return console.error("Error fetching settings:",e),null}},async updateSettings(e){let{data:t,error:s}=await c.OQ.from("site_settings").upsert({id:1,...e,updated_at:new Date().toISOString()}).select().single();if(s)throw s;return t}};function d(){let[e,t]=(0,a.useState)({site_title:"Ephraim Umunnakwe Portfolio",site_description:"Full-stack developer specializing in mobile and web applications",maintenance_mode:!1,allow_comments:!0,email_notifications:!0}),[s,c]=(0,a.useState)(!0),[d,h]=(0,a.useState)(!1),[m,u]=(0,a.useState)(!1),x=(0,n.useRouter)();(0,a.useEffect)(()=>{h(!0)},[]),(0,a.useEffect)(()=>{d&&(async()=>{try{if(!await (0,i.$8)()){x.push("/admin/login");return}let e=await o.getSettings();e&&t(e)}catch(e){console.error("Error loading settings:",e)}c(!1)})()},[x,d]);let g=async()=>{u(!0);try{await o.updateSettings(e),alert("Settings saved successfully!")}catch(e){console.error("Error saving settings:",e),alert("Failed to save settings")}u(!1)},b=async()=>{confirm("Are you sure you want to clear the cache?")&&(await new Promise(e=>setTimeout(e,500)),alert("Cache cleared successfully!"))};return d&&(0,i.oM)()?(0,r.jsxs)(l.l,{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Settings"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Configure your portfolio settings and preferences"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white/5 p-6 rounded-lg border border-white/10",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"General Settings"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Site Title"}),(0,r.jsx)("input",{type:"text",value:e.site_title,onChange:s=>t({...e,site_title:s.target.value}),className:"w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-white font-medium mb-2",children:"Site Description"}),(0,r.jsx)("textarea",{rows:3,value:e.site_description,onChange:s=>t({...e,site_description:s.target.value}),className:"w-full bg-white/10 border border-white/20 text-white rounded-lg px-4 py-3"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.maintenance_mode,onChange:s=>t({...e,maintenance_mode:s.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"text-white",children:"Maintenance Mode"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.allow_comments,onChange:s=>t({...e,allow_comments:s.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"text-white",children:"Allow Comments on Blog"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.email_notifications,onChange:s=>t({...e,email_notifications:s.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"text-white",children:"Email Notifications"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/5 p-6 rounded-lg border border-white/10",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"System Actions"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Cache Management"}),(0,r.jsx)("p",{className:"text-gray-300 text-sm mb-3",children:"Clear cached data to improve performance"}),(0,r.jsx)("button",{onClick:b,className:"bg-blue-500/20 text-blue-300 px-4 py-2 rounded-lg hover:bg-blue-500/30 transition-colors",children:"Clear Cache"})]}),(0,r.jsxs)("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Backup Data"}),(0,r.jsx)("p",{className:"text-gray-300 text-sm mb-3",children:"Download a backup of your portfolio data"}),(0,r.jsx)("button",{className:"bg-green-500/20 text-green-300 px-4 py-2 rounded-lg hover:bg-green-500/30 transition-colors",children:"Download Backup"})]}),(0,r.jsxs)("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Analytics"}),(0,r.jsx)("p",{className:"text-gray-300 text-sm mb-3",children:"View detailed analytics and statistics"}),(0,r.jsx)("button",{className:"bg-yellow-500/20 text-yellow-300 px-4 py-2 rounded-lg hover:bg-yellow-500/30 transition-colors",children:"View Analytics"})]}),(0,r.jsxs)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Danger Zone"}),(0,r.jsx)("p",{className:"text-gray-300 text-sm mb-3",children:"Logout from admin panel"}),(0,r.jsx)("button",{onClick:()=>{(0,i.kS)(),x.push("/admin/login")},className:"bg-red-500/20 text-red-300 px-4 py-2 rounded-lg hover:bg-red-500/30 transition-colors",children:"Logout"})]})]})]})]}),(0,r.jsx)("div",{className:"mt-8 flex justify-end",children:(0,r.jsx)("button",{onClick:g,disabled:m,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all font-semibold disabled:opacity-50",children:m?"Saving...":"Save Settings"})})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-white",children:"Loading..."})})}}},function(e){e.O(0,[10,664,805,774,888,179],function(){return e(e.s=8051)}),_N_E=e.O()}]);